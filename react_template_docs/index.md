# React開発標準

## ファイル構造

 │\
 ├─.vscode :setting.json等Visual studio codeの設定フォルダ\
 ├─node_mogules :Node.jsのモジュールフォルダ\
 ├─public :クライアント側に読み込まれる特殊ファイル等のフォルダ [^1]\
 ├─src :ソースフォルダ\
 │  ├─assets :イメージファイル等、リソースフォルダ\
 │  │  └─styles :共有CSSフォルダ\
 │  │\
 │  ├─components :Reactコンポーネントフォルダ\
 │  │  ├─templates :ページテンプレートレイアウトフォルダ\
 │  │  ├─pages :ページコンポーネントフォルダ\
 │  │  ├─features :プロジェクト毎に使いまわすフォルダ\
 │  │  ├─ui_parts :全プロジェクト共通のReactコンポーネントフォルダ\
 │  │  └─ui_elements :全プロジェクト共通のReactコンポーネントフォルダ\
 │  │\
 │  ├─hooks :共有fookフォルダ\
 │  ├─routes :ルーティング設定フォルダ\
 │  ├─schema :共有スキーマフォルダ\
 │  ├─App.css :アプリケーションのメインcss\
 │  ├─App.tsx :アプリケーションのメインtsx\
 │  ├─index.css :インデックスのスタイルファイル(importのみ)\
 │  ├─main.tsx :index.htmlから直接読み込むファイル(ここに処理は書かない)\
 │  └─vite-env.d.ts :自動補完する語句の定義ファイル [^2]\
 │\
 ├─.eslintrc.cjs :ESLintの設定ファイル\
 ├─.gitignore :gitの除外設定\
 ├─.stylelintrc.json :Style Lint の設定ファイル\
 ├─index.html :インデックスファイル\
 ├─package.json :パッケージのファイル構成\
 ├─postcss.config.cjs :PostCSSの設定ファイル\
 ├─README.md :gitのReadMeファイル\
 ├─tsconfig.json :TypeScriptの設定ファイル\
 ├─tsconfig.node.json :TypeScriptの設定ファイル(Vite用)\
 ├─vite.config.ts :Viteの設定ファイル [^3]\
 └─yarn.lock :パッケージのバージョン統制ファイル

### コンポーネントフォルダ
 │\
 ├─コンポーネント名フォルダ\
 │ ├─コンポーネント名フォルダ(子) :このフォルダ内でのみ使用するコンポーネントのフォルダ\
 │ ├─stories :storybookの関数フォルダ\
 │ │ └─xxx.stories.tsx :storybookの定義ファイル\
 │ │\
 │ ├─types.ts :Props定義ファイル\
 │ ├─schemas.ts :スキーマ定義ファイル\
 │ ├─hooks.ts :フック定義ファイル\
 │ ├─xxx.module.css :コンポーネントのcssファイル\
 │ └─index.tsx :コンポーネントのtsxファイル

 ※「xxx」はコンポーネント名
## 命名規約
命名には、英語、またはヘボン式のローマ字を用いる。

### ファイル、フォルダ名
|分類|項目|規則|備考|
|:---|:---|:---|:---|
|.tsx|コンポーネント|index.tsx||
||バリデーション、定数ファイル|スネークケース(半角英数小文字)||
|.css|コンポーネント|コンポーネントの関数名(半角英数小文字、スネーク・ケース)|拡張子は「.module.css」|
||共通ファイル|半角英数小文字、スネーク・ケース||
|フォルダ|コンポーネント|コンポーネントの関数名(半角英数小文字、スネーク・ケース)||
|その他||半角英数小文字のスネークケース||

スクリプトファイルは以下の情報をもとに拡張子を設定する。
- JSX構文を使用する(Reactコンポーネント等) ・・・tsx, jsx拡張子を利用する
- 上記以外の用途のファイル(ロジック、スキーマ定義等) ・・・ts, js拡張子を利用する

### ts,tsx,js,jsx

|項目|規則|
|:---|:---|
|コンポーネント名|アッパーキャメルケース(先頭大文字) |
|関数名(代入した変数含む)|ローワーキャメルケース(先頭小文字) |
|変数名|ローワーキャメルケース(先頭小文字)|
|定数名|コンスタントケース(半角英数大文字、_繋ぎ)|
|type|アッパーキャメルケース(先頭大文字)|
|interface|アッパーキャメルケース(先頭大文字)|
|typeのメンバー|ローワーキャメルケース(先頭小文字)|

### css,html
|項目|規則|
|:---|:---|
|class|スネークケース(半角英数小文字)|
|name|プレフィクス付きのローワーキャメルケース(先頭小文字)|
|id|スネークケース(半角英数小文字)|
|スタイル(PostCSS)|スネークケース(半角英数小文字)|
|カスタムプロパティ|接頭辞「--」がついた半角英数小文字を「-」でつないだ文字列|

## コーディング規約
### 全般
インデントはPrettier,eslint,stylelintで指定したものに従う
<!-- - インデントは、原則として、2文字分の空白とし、タブ文字は使用しない。 -->

### HTML
- Reactでは基本的にhtmlファイルへ直接記述をしない
- コメントは `<!--/*--><!--  コメント --><!--*/-->` と記述する

```html
<!--/*--><!--  ▼ ヘッダー //.header_area --><!--*/--> 
<header>
　　<h2> </h2>
</header> 
<!--/*--><!--  ▲ ヘッダー //.header_area --><!--*/--> 
```

※ `<!--  コメント -->` はブラウザからコメントが表示されてしまうため、利用は避ける

### CSS
- cssはPostCSS [^4]で記述する
- コンポーネント等のレイアウトは、デジタル庁のデザインシステム案 [^5]に則って作成する。
- カラーコードは小文字で記述し、「black」など単語の値は利用しない
- 色、枠線、フォントサイズは基本的に値を直接記入しない\
上記のプロパティはカスタムプロパティを利用する（色等レイアウトのばらつきを抑えるため）
- cssの記載順は詳細度の昇順で記載する(esLintで強制される)
- コメントは下記の例を参考に記述する

```css
/* =============================
  3行コメントアウト
============================= */

/* 2行コメントアウト
----------------------------------------------------- */

/* 1行コメントアウト */
.tr_name{ color: #f00; }
```

### React,TypeScript
- 比較演算子は厳密等価演算子を利用する
- 変数の定義の際は代入を行うものは「let」、行わないものは「const」を利用する
- ダブルクォーテーションで記述する
- コメントは下記の例(JSDoc [^6])を参考に記述する

```typescript
// 1行コメント

/**
 * 関数名
 * @param 引数の名前　引数の説明 
 * @return 戻り値の説明
 */

/**
 * コンポーネント名
 * @property プロパティ名 : 説明
 */
```

## 参考、付録
[^1]: [publicディレクトリー](https://ja.vitejs.dev/guide/assets.html#the-public-directory)
[^2]: [Env Variables and Modes](https://vitejs.dev/guide/env-and-mode)
[^3]: [Vite の設定](https://ja.vitejs.dev/config/)
[^4]: [PostCSS](https://postcss.org/)
[^5]: [デジタル庁デザインシステム](https://www.digital.go.jp/policies/servicedesign/designsystem)
[^6]: [JSDocリファレンス](https://www.typescriptlang.org/ja/docs/handbook/jsdoc-supported-types.html)
